(this.webpackJsonpreacting=this.webpackJsonpreacting||[]).push([[0],{16:function(t,e,n){},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){"use strict";n.r(e);var s=n(0),i=(n(12),n(2)),r=n.n(i),o=n(8),a=n.n(o),c=(n(16),n(17),n(1)),u=n(9),h=n(3),l=n(4),d=n(6),f=n(5),v=(n(18),n(19),function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.row,n=t.col,i=t.is_start,r=t.is_finish,o=t.is_wall,a=t.onMouseDown,c=t.onMouseOver,u=t.onMouseUp,h=i?"node-start":r?"node-finish":o?"node-wall":"node-basic";return Object(s.jsx)("div",{id:"node ".concat(e," ").concat(n),className:"node ".concat(h),onMouseDown:function(){return a(e,n)},onMouseOver:function(){return c(e,n)},onMouseUp:function(){return u(e,n)}})}}]),n}(r.a.Component));function j(t,e,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:b,i=[];e.distance=0;for(var r=t.flat();r.length>0;){r.sort((function(t,e){return s(t,n)-s(e,n)}));var o=r.shift();if(!o.is_wall){if(o.distance===1/0)return i;if(o.searched=!0,i.push(o),o===n)return i;p(o,t)}}}function p(t,e){var n=[],s=t.row,i=t.col;s>0&&n.push(e[s-1][i]),i>0&&n.push(e[s][i-1]),s<e.length-1&&n.push(e[s+1][i]),i<e[0].length-1&&n.push(e[s][i+1]);for(var r=0,o=0;o<n.length;o++){var a=n[o];a.searched||(n[r]=a,r++)}n.length=r;for(var c=0;c<n.length;c++){var u=n[c];u.distance=t.distance+1,u.previous=t}}function b(t,e){return t.distance+function(t,e){return Math.abs(t.row-e.row)+Math.abs(t.col-e.col)}(t,e)}function O(t){return t.distance}var m=Math.floor(10.5),g={row:-1,col:-1,is_start:!1,is_finish:!1,is_wall:!1,searched:!1,distance:1/0,previous:null},_={0:[j,"A*"],1:[function(t,e,n){return j(t,e,n,O)},"Djikstra's"]},w=function(t){Object(d.a)(n,t);var e=Object(f.a)(n);function n(t){var s;return Object(h.a)(this,n),(s=e.call(this,t)).get_shortest_path=function(){for(var t=[],e=s.state.nodes[10][40].previous;null!==e.previous;)t.unshift(e),e=e.previous;return t},s.state={nodes:y(),mouse_press:!1,reset_id:0,pathfinding:!1,dirty:!1},s}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=y();this.setState({nodes:t,mouse_press:!1})}},{key:"handleMouseDown",value:function(t,e){this.setState({nodes:k(this.state.nodes,t,e),mouse_press:!0})}},{key:"handleMouseUp",value:function(t,e){this.setState({mouse_press:!1})}},{key:"handleMouseOver",value:function(t,e){this.state.mouse_press&&this.setState({nodes:k(this.state.nodes,t,e)})}},{key:"reset",value:function(){var t=this.state,e=t.reset_id;if(!t.pathfinding){var n=y();this.setState({nodes:n,reset_id:e+1,dirty:!1})}}},{key:"render",value:function(){var t=this,e=this.state,n=e.nodes,i=e.reset_id;return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Drag and click on the grid to make walls (may be a bit buggy). Also, A* heuristic is manhattan distance."}),Object(s.jsx)("button",{onClick:function(){return t.pathfind()},children:"Start it up!"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){return t.reset()},children:"Reset the board"}),Object(s.jsx)("br",{}),"Algorithm:\xa0\xa0",Object(s.jsx)("select",{name:"algorithm",id:"algorithm",children:Object.entries(_).map((function(t){var e=Object(u.a)(t,2),n=e[0],i=e[1];return Object(s.jsx)("option",{value:n,children:i[1]},n)}))}),Object(s.jsx)("table",{className:"grid",children:n.map((function(e,n){return Object(s.jsx)("tr",{children:e.map((function(e,n){var r=e.row,o=e.col,a=e.is_start,c=e.is_finish,u=e.is_wall,h=e.searched,l=e.distance;return Object(s.jsx)("td",{children:Object(s.jsx)(v,{row:r,col:o,is_start:a,is_finish:c,is_wall:u,searched:h,distance:l,onMouseDown:function(e,n){return t.handleMouseDown(e,n)},onMouseOver:function(e,n){return t.handleMouseOver(e,n)},onMouseUp:function(e,n){return t.handleMouseUp(e,n)}},n+"hello"+i)})}))},n)}))},i)]},i)}},{key:"pathfind",value:function(){if(this.state.dirty||this.state.pathfinding)this.reset(),this.setState({dirty:!1});else{this.setState({pathfinding:!0,dirty:!0});var t=this.state.nodes,e=t[m][10],n=t[10][40],s=(0,_[document.getElementById("algorithm").value][0])(t,e,n),i=this.get_shortest_path();this.animate_algorithm(s,i)}}},{key:"animate_algorithm",value:function(t,e){var n=this;t.shift();for(var s=function(s){if(s===t.length-1)return setTimeout((function(){n.animate_shortest_path(e)}),8*s),{v:void 0};var i=t[s];setTimeout((function(){document.getElementById("node ".concat(i.row," ").concat(i.col)).className="node node-searched"}),8*s)},i=0;i<t.length;i++){var r=s(i);if("object"===typeof r)return r.v}}},{key:"animate_shortest_path",value:function(t){for(var e=this,n=function(n){if(n===t.length)return setTimeout((function(){return e.setState({pathfinding:!1})}),20*n),{v:void 0};var s=t[n];setTimeout((function(){return document.getElementById("node ".concat(s.row," ").concat(s.col)).className="node node-shortest-path"}),20*n)},s=0;s<=t.length;s++){var i=n(s);if("object"===typeof i)return i.v}}}]),n}(r.a.Component),y=function(){for(var t=[],e=0;e<21;e++){for(var n=[],s=0;s<50;s++){var i=Object(c.a)(Object(c.a)({},g),{},{row:e,col:s});n.push(i)}t.push(n)}return t[m].splice(10,1,Object(c.a)(Object(c.a)({},g),{},{row:m,col:10,is_start:!0})),t[10].splice(40,1,Object(c.a)(Object(c.a)({},g),{},{row:10,col:40,is_finish:!0})),t},k=function(t,e,n){var s=t.slice(),i=s[e][n];return s[e][n]=Object(c.a)(Object(c.a)({},i),{},{searched:!1,is_wall:!i.is_wall}),s};var x=function(){return Object(s.jsx)("div",{children:Object(s.jsx)(w,{})})};a.a.render(Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Pathfinding Visualizer!"})," ",Object(s.jsx)("h2",{children:"by Patrick Wang, UC Berkeley"}),Object(s.jsx)(x,{})]}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.cf77d7d8.chunk.js.map